<div class="edit-patient-container" *ngIf="form">
  <div class="row mb-5">
    <div class="col-lg-12 col-md-12 col-sm-12 d-flex justify-content-between align-items-center">
      <div class="content-main-heading">
        <h3>{{form?.get('_id').value ? 'Edit Profile' : 'Add Doctor'}}</h3>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col-lg-12 col-md-12 col-sm-12">
      <form [formGroup]="form">
        <div class="basic-information-container">
          <div class="row">
            <div class="col-lg-12 col-md-12 col-sm-12">
              <h5>Basic Information</h5>
            </div>
          </div>

          <div class="row">
            <div class="col-lg-12 col-md-12 col-sm-12 mb-3">
              <app-upload-image [setImageName]="form.get('profileImage') && form.get('profileImage').value ? form.get('profileImage').value: null" (profileImage)="onProfileImageUpload($event)"></app-upload-image>
            </div>
          </div>

          <div class="row">
            <div class="col-lg-6 col-md-6 col-sm-12">
              <div class="mb-3 form-group">
                <app-form-control>
                  <label for="firstName">First Name <span class="required">*</span></label>
                  <input type="text" pInputText id="firstName" [formControlName]="'firstName'">
                </app-form-control>
              </div>
            </div>
            <div class="col-lg-6 col-md-6 col-sm-12">
              <div class="mb-3 form-group">
                <app-form-control>
                  <label for="lastName">Last Name <span class="required">*</span></label>
                  <input type="text" pInputText id="lastName" [formControlName]="'lastName'">
                </app-form-control>
              </div>
            </div>
          </div>

          <div class="row">
            <div class="col-lg-6 col-md-6 col-sm-12">
              <div class="mb-3 form-group">
                <app-form-control>
                  <label for="email">Email <span class="required">*</span></label>
                  <input type="text" pInputText id="email" [formControlName]="'email'">
                </app-form-control>
              </div>
            </div>
            <div class="col-lg-6 col-md-6 col-sm-12">
              <div class="mb-3 form-group">
                <app-form-control>
                  <label for="phoneNumber">Phone Number <span class="required">*</span></label>
                  <input type="text" pInputText id="phoneNumber" [formControlName]="'phoneNumber'">
                </app-form-control>
              </div>
            </div>
          </div>

          <div class="row">
            <div class="col-lg-6 col-md-6 col-sm-12">
              <div class="form-group">
                <app-form-control>
                  <label for="gender">Gender <span class="required">*</span></label>
                  <p-dropdown id="gender" [autoDisplayFirst]="false" [options]="genders" [formControlName]="'gender'"></p-dropdown>
                </app-form-control>
              </div>
            </div>
            <div class="col-lg-6 col-md-6 col-sm-12">
              <div class="form-group">
                <app-form-control>
                  <label for="DOB">Date Of Birth <span class="required">*</span></label>
                  <p-calendar [maxDate]="maxDate" id="DOB" [formControlName]="'DOB'"></p-calendar>
                </app-form-control>
              </div>
            </div>
          </div>
        </div>

        <div class="about-me-container">
          <div class="row">
            <div class="col-lg-12 col-md-12 col-sm-12">
              <h5>About Me</h5>
            </div>
          </div>

          <div class="row">
            <div class="col-lg-12 col-md-12 col-sm-12">
              <div class="form-group">
                <app-form-control>
                  <label for="biography">Biography</label>
                  <textarea pInputTextarea id="biography" [formControlName]="'biography'"></textarea>
                </app-form-control>
              </div>
            </div>
          </div>
        </div>

        <div class="address-container">
          <h5>Address & Location</h5>

          <div class="row" [formGroupName]="'addressDetails'">
            <div class="col-lg-6 col-md-6 col-sm-12">
              <div class="mb-3 form-group">
                <app-form-control>
                  <label for="addressLine1">Address 1</label>
                  <input type="text" pInputText id="addressLine1" [formControlName]="'addressLine1'">
                </app-form-control>
              </div>
            </div>

            <div class="col-lg-6 col-md-6 col-sm-12">
              <div class="mb-3 form-group">
                <app-form-control>
                  <label for="addressLine2">Address 2</label>
                  <input type="text" pInputText id="addressLine2" [formControlName]="'addressLine2'">
                </app-form-control>
              </div>
            </div>

            <div class="col-lg-6 col-md-6 col-sm-12">
              <div class="mb-3 form-group">
                <app-form-control>
                  <label for="city">City</label>
                  <input type="text" pInputText id="city" [formControlName]="'city'">
                </app-form-control>
              </div>
            </div>

            <div class="col-lg-6 col-md-6 col-sm-12">
              <div class="mb-3 form-group">
                <app-form-control>
                  <label for="state">State</label>
                  <input type="text" pInputText id="state" [formControlName]="'state'">
                </app-form-control>
              </div>
            </div>

            <div class="col-lg-6 col-md-6 col-sm-12">
              <div class="mb-3 form-group">
                <app-form-control>
                  <label for="country">Country</label>
                  <input type="text" pInputText id="country" [formControlName]="'country'">
                </app-form-control>
              </div>
            </div>

            <div class="col-lg-6 col-md-6 col-sm-12">
              <div class="mb-3 form-group">
                <app-form-control>
                  <label for="postalCode">Postal Code</label>
                  <input type="text" pInputText id="postalCode" [formControlName]="'postalCode'">
                </app-form-control>
              </div>
            </div>
          </div>
        </div>

        <div class="services-and-specialization-container">
          <div class="row">
            <div class="col-lg-12 col-md-12 col-sm-12">
              <h5>Services and Specialization</h5>
            </div>
          </div>

          <div class="row">
            <div class="col-lg-12 col-md-12 col-sm-12">
              <div class="form-group">
                <app-form-control>
                  <label for="services">Services</label>
                  <p-chips id="services" [formControlName]="'services'"></p-chips>
                </app-form-control>
              </div>
            </div>

            <div class="col-lg-12 col-md-12 col-sm-12">
              <div class="form-group">
                <app-form-control>
                  <label for="specializations">Specializations</label>
                  <p-chips id="specializations" [formControlName]="'specializations'"></p-chips>
                </app-form-control>
              </div>
            </div>
          </div>
        </div>

        <div class="education-container">
          <div class="row">
            <div class="col-lg-12 col-md-12 col-sm-12">
              <h5>Education</h5>
            </div>
          </div>

          <ng-container [formArrayName]="'education'" *ngFor="let item of form.get('education')['controls']; let index = index;">
            <ng-container [formGroupName]="index">
              <div class="row">
                <div class="col-lg-4 col-md-4 col-sm-12">
                  <div class="mb-3 form-group">
                    <app-form-control>
                      <label for="degree">Degree</label>
                      <input type="text" pInputText id="degree" [formControlName]="'degree'">
                    </app-form-control>
                  </div>
                </div>
                <div class="col-lg-4 col-md-4 col-sm-12">
                  <div class="mb-3 form-group">
                    <app-form-control>
                      <label for="institute">Institute</label>
                      <input type="text" pInputText id="institute" [formControlName]="'institute'">
                    </app-form-control>
                  </div>
                </div>
                <div class="col-lg-4 col-md-4 col-sm-12">
                  <div class="mb-3 form-group">
                    <app-form-control>
                      <label for="completionYear">Completion Year</label>
                      <input type="text" pInputText id="completionYear" [formControlName]="'completionYear'">
                    </app-form-control>
                  </div>
                </div>
              </div>
            </ng-container>
          </ng-container>

          <div class="row">
            <div class="col-lg-12 col-md-12 col-sm-12">
              <p-button [label]="'Add More'" (click)="addEducation()" class="p-button-link-primary"></p-button>
            </div>
          </div>
        </div>

        <div class="experience-container">
          <div class="row">
            <div class="col-lg-12 col-md-12 col-sm-12">
              <h5>Experience</h5>
            </div>
          </div>

          <ng-container [formArrayName]="'experience'" *ngFor="let item of form.get('experience')['controls']; let index = index;">
            <ng-container [formGroupName]="index">
              <div class="row">
                <div class="col-lg-4 col-md-4 col-sm-12">
                  <div class="mb-3 form-group">
                    <app-form-control>
                      <label for="hospitalName">Hospital Name</label>
                      <input type="text" pInputText id="hospitalName" [formControlName]="'hospitalName'">
                    </app-form-control>
                  </div>
                </div>
                <div class="col-lg-4 col-md-4 col-sm-12">
                  <div class="mb-3 form-group">
                    <app-form-control>
                      <label for="from">From</label>
                      <p-calendar [maxDate]="maxDate" id="from" [formControlName]="'from'"></p-calendar>
                    </app-form-control>
                  </div>
                </div>
                <div class="col-lg-4 col-md-4 col-sm-12">
                  <div class="mb-3 form-group">
                    <app-form-control>
                      <label for="to">To</label>
                      <p-calendar [maxDate]="maxDate" id="to" [formControlName]="'to'"></p-calendar>
                    </app-form-control>
                  </div>
                </div>
                <div class="col-lg-4 col-md-4 col-sm-12">
                  <div class="mb-3 form-group">
                    <app-form-control>
                      <label for="designation">Designation</label>
                      <input type="text" pInputText id="designation" [formControlName]="'designation'">
                    </app-form-control>
                  </div>
                </div>
              </div>
            </ng-container>
          </ng-container>

          <div class="row">
            <div class="col-lg-12 col-md-12 col-sm-12">
              <p-button [label]="'Add More'" (click)="addExperience()" class="p-button-link-primary"></p-button>
            </div>
          </div>
        </div>

        <p-button [label]="'Save Changes'" class="p-button-success mb-3" (click)="onSaveChangesClicked()"></p-button>
      </form>

    </div>
  </div>
</div>

